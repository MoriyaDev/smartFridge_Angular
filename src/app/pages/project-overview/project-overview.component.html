<!DOCTYPE html>
<html lang="he" dir="rtl">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>📦 תיעוד מבנה הפרויקט - המקרר החכם</title>
  <style>

  </style>
</head>

<body>
  <div class="header">
    <h1>📦 המקרר החכם - תיעוד מבנה הפרויקט</h1>
    <p>מערכת לניהול המקרר הביתי, מעקב אחר פגי תוקף והמלצות למתכונים</p>
  </div>

  <div class="container">
    <!-- Main content side by side without scrollbars -->
    <div class="main-content">
      <!-- Left section -->
      <div class="content-section">
        <h2 class="section-title">תכונות עיקריות</h2>

        <div class="card">
          <h2>🚀 סקירת הפרויקט</h2>
          <p>בפרויקט שלי בניתי קומפוננטות עיקריות הכוללות את <strong>דף הבית</strong>, <strong>פתקים</strong>,
            <strong>מתכונים</strong>, <strong>מוצרים</strong> ו<strong>משתמשים</strong>. הפרויקט מאורגן וקל לתחזוקה עם
            מבנה מודולרי.</p>
        </div>

        <div class="card">
          <h2>🗺️ ניתובים וטעינה עצלה</h2>
          <p>השתמשתי ב<strong>טעינה עצלה</strong> (Lazy Loading) כדי לשפר ביצועים ולאפשר טעינה מהירה יותר של האתר.
            בנוסף, יצרתי נתיבים ייעודיים לכל דף בפרויקט    .</p>
        </div>

        <div class="card">
          <h2>📊 עבודה עם נתונים</h2>
          <p>בפרויקט נעשה שימוש ב<strong>Services</strong> לניהול מוצרים, מקרר ופתקים, עם קריאות <strong>API</strong>
            (GET/POST) לשרת לקבלת ועדכון נתונים. זה מאפשר הפרדה נקייה בין הלוגיקה העסקית והתצוגה.</p>
        </div>

        <div class="card">
          <h2>🛠️ שימוש ב-Pipe ו-Directive</h2>
          <p>יצרתי <strong>Pipe אישי</strong> כדי לבדוק אם אני נמצאת במקרר או במקפיא, וגם לחיתוך טקסטים ארוכים.
            <br>
            בנוסף, השתמשתי ב<strong>Directive</strong> המעניק צבע שונה לכל סוג פתק, מה שמסייע בזיהוי מהיר של הפתקים
            וכן אחד המתריע על מוצר שתוקפו הולך לפוג/פג.</p>
        </div>

        <div class="card">
          <h2>🔒 אבטחה והרשאות</h2>
          <p>הגדרתי <strong>Guards</strong> להגבלת גישה לדפים רק למשתמשים מורשים, והשתמשתי ב<strong>JWT</strong> לאימות
            משתמשים, עם רמות הרשאה שונות למנהלים ולמשתמשים רגילים.</p>
        </div>
      </div>

      <!-- Right section -->
      <div class="content-section">
        <h2 class="section-title">מבנה הפרויקט</h2>
        <div class="file-structure">
          <pre dir="ltr">📦 src/app
├── 📁 components            # קומפוננטות עיקריות של הפרויקט
│   ├── 📁 fridge           # עמודי התחברות והרשמה למקרר
│   │   ├── login-fridge   # עמוד התחברות
│   │   ├── signup-fridge  # עמוד הרשמה
│   │   ├── fridge.routes.ts  # נתיבי הניווט של המקרר
│   ├── 📁 note            # ניהול פתקים
│   │   ├── add-note       # הוספת פתק חדש
│   │   ├── note-list      # רשימת פתקים
│   │   ├── note.routes.ts # נתיבי ניהול הפתקים
│   ├── 📁 product         # ניהול מוצרים במקרר
│   │   ├── add-product    # הוספת מוצר
│   │   ├── product-details # הצגת פרטי מוצר
│   │   ├── product-list   # רשימת מוצרים
│   │   ├── update-product # עדכון מוצר קיים
│   │   ├── product.routes.ts # נתיבים של מוצרים
│   ├── 📁 recipe          # ניהול מתכונים
│   │   ├── add-recipe     # הוספת מתכון
│   │   ├── recipe-list    # רשימת מתכונים
│   │   ├── recipe.routes.ts # נתיבים של מתכונים
│   ├── 📁 navbar          # תפריט הניווט של האתר
│   ├── 📁 home-page       # עמוד הבית של המקרר החכם
│   ├── 📁 chat            # מערכת צ'אט (אם יש)
│   ├── 📁 footer          # פוטר האתר
│
├── 📁 model               # מודלים הנתונים של הפרויקט
│   ├── fridge.model.ts    # מבנה נתונים של מקרר
│   ├── note.model.ts      # מבנה נתונים של פתק
│   ├── product.model.ts   # מבנה נתונים של מוצר
│   ├── recipe.model.ts    # מבנה נתונים של מתכון
│
├── 📁 pages               # דפים עיקריים ותוספות
│   ├── 📁 directives      # דיירקטיבות מותאמות אישית
│   │   ├── background-by-type.directive.ts  # שינוי צבע רקע לפי סוג
│   │   ├── expiry-highlight.directive.ts    # הדגשה למוצרים שפג תוקפם
│   ├── 📁 pipes           # Pipes מותאמות אישית
│   │   ├── location.pipe.ts  # שינוי פורמט מיקום
│   │   ├── truncate.pipe.ts  # קיצור טקסט ארוך
│   │
│   ├── project-overview   # עמוד שמסביר איך המערכת פועלת
│   ├── 🛡️ admin.guard.ts  # שמירת גישה למשתמשים מנהלים
│   ├── 🛡️ auth.guard.ts   # שמירת גישה למשתמשים מחוברים
│
├── 📁 service             # שירותים לניהול הנתונים
    ├── auth.service.ts    # ניהול התחברות משתמשים
    ├── category.service.ts # ניהול קטגוריות מוצרים
    ├── fridge.service.ts  # ניהול מקררים
    ├── note.service.ts    # ניהול פתקים
    ├── product.service.ts # ניהול מוצרים
    ├── recipe.service.ts  # ניהול מתכונים</pre>
        </div>

        <div class="feature-grid">
          <div class="feature-card">
            <h3>🔐 אבטחה</h3>
            <p>מערכת הרשאות מבוססת JWT וגארדים לשמירה על גישה מאובטחת</p>
          </div>
          <div class="feature-card">
            <h3>⚡ ביצועים</h3>
            <p>טעינה עצלה ומבנה מודולרי לטעינה מהירה של הקומפוננטות</p>
          </div>
          <div class="feature-card">
            <h3>🧩 מודולריות</h3>
            <p>הפרדה נקייה בין המודולים השונים ושימוש בתבניות מומלצות</p>
          </div>
        </div>
      </div>
    </div>

    <!-- Full width algorithm section - כעת בטוח יופיע ברוחב מלא מתחת לחלקים העליונים -->
    <div class="full-width-section">
      <div class="algorithm-card">
        <h2>🧠 האלגוריתם לבחירת מתכונים</h2>
        <p>האלגוריתם מדרג מתכונים לפי המוצרים הקיימים במקרר, עם <strong>עדיפות למוצרים קריטיים</strong> שתוקפם עומד לפוג.</p>

        <h3>📌 שלבי האלגוריתם:</h3>
        <ul>
          <li>🔍 שליפת כל המוצרים והמתכונים</li>
          <code>
            var allFridgeProducts = _productRepository.GetProductsByFridgeId(fridgeId);<br>
            var allRecipes = _recipeRepository.GetAll();
          </code>

          <li>⚠️ זיהוי מוצרים קריטיים</li>
          <code>
            var criticalProducts = allFridgeProducts<br>
                .Where(product => (product.ExpiryDate - DateTime.Now).TotalDays <= 3)<br>
                .Select(product => product.Name)<br>
                .ToList();
          </code>

          <li>📌 בדיקת התאמת מרכיבים</li>
          <code>
            var usedIngredients = recipe.Products.Split(',')<br>
                .Select(p => p.Trim())<br>
                .Where(req => ingredientList.Contains(req))<br>
                .ToList();
          </code>

          <li>📈 חישוב ניקוד למתכון</li>
          <code>
            recipe.Score = usedIngredients.Count + (usedIngredients.Count(req => criticalProducts.Contains(req)) * 2);
          </code>

          <li>🏆 מיון ובחירת המתכונים הטובים ביותר</li>
          <code>
            var rankedRecipes = allRecipes.OrderByDescending(r => r.Score).Take(3).ToList();
          </code>
        </ul>

        <h3>⚡ יתרונות האלגוריתם:</h3>
        <div class="benefits">
          <div class="benefit-item">
            <h4>✅ מונע בזבוז מזון</h4>
            <p>שימוש במוצרים לפני פקיעת תוקפם</p>
          </div>
          <div class="benefit-item">
            <h4>✅ חוסך זמן</h4>
            <p>בחירה מהירה של מתכונים מתאימים</p>
          </div>
          <div class="benefit-item">
            <h4>✅ קל להרחבה</h4>
            <p>ניתן להוסיף קריטריונים נוספים בקלות</p>
          </div>
        </div>
      </div>
    </div>

    <div class="footer">
      <p>פרויקט המקרר החכם - תיעוד טכני © 2025</p>
    </div>
  </div>
</body>

</html>